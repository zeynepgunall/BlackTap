<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>BlackTap</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style.css">

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

  <script defer src="script.js"></script>

</head>
<body>

  <div id="cover">
    <h1>BlackTap</h1>

    <div class="difficulty-selection">
      <h3>Select Difficulty</h3>
      <div class="difficulty-buttons">
        <button class="difficulty-btn" data-difficulty="easy">Easy<br><span>15s • 2 tiles</span></button>
        <button class="difficulty-btn active" data-difficulty="medium">Medium<br><span>10s • 3 tiles</span></button>
        <button class="difficulty-btn" data-difficulty="hard">Hard<br><span>7s • 4 tiles</span></button>
      </div>
    </div>

    <div class="hint">Click anywhere to start</div>
  </div>

  <div id="countdownOverlay" class="hidden">
    <div id="countdownNumber">3</div>
  </div>

  <div id="gameContainer" class="hidden">

    <div class="top-bar">
      <div>
        <div class="label">Hi-Score</div>
        <div class="value" id="hiScoreValue">0</div>
      </div>

      <div>
        <div class="label">Score</div>
        <div class="value" id="scoreValue">0</div>
      </div>

      <div>
        <div class="label">Time</div>
        <div class="value" id="timeValue">10</div>
      </div>

      <button id="settingsBtn" class="settings-btn" title="Settings">⚙️</button>
    </div>

    <div id="settingsMenu" class="settings-menu hidden">
      <div class="settings-header">
        <h3>Settings</h3>
        <button id="closeSettings" class="close-settings-btn">×</button>
      </div>
      
      <div class="settings-content">
        <div class="settings-section">
          <h4>Sound</h4>
          <div class="settings-option">
            <label class="toggle-switch">
              <input type="checkbox" id="soundToggleCheckbox" checked>
              <span class="toggle-slider"></span>
            </label>
            <span class="settings-label">Sound Effects</span>
          </div>
        </div>

        <div class="settings-section">
          <h4>Difficulty</h4>
          <div class="difficulty-options">
            <button class="difficulty-option-btn" data-difficulty="easy">
              <span class="difficulty-name">Easy</span>
              <span class="difficulty-details">15s • 2 tiles</span>
            </button>
            <button class="difficulty-option-btn active" data-difficulty="medium">
              <span class="difficulty-name">Medium</span>
              <span class="difficulty-details">10s • 3 tiles</span>
            </button>
            <button class="difficulty-option-btn" data-difficulty="hard">
              <span class="difficulty-name">Hard</span>
              <span class="difficulty-details">7s • 4 tiles</span>
            </button>
          </div>
        </div>

      </div>
    </div>

    <div id="settingsOverlay" class="settings-overlay hidden"></div>

    <div id="message">Tap the black tiles!</div>

    <div id="comboContainer">
      <div id="comboDisplay">0x COMBO!</div>
      <div id="comboBonus">+0 bonus</div>
    </div>

    <div id="powerUpNotification"></div>

    <div id="board">
      <div class="tile" data-index="0"><span class="points"></span></div>
      <div class="tile" data-index="1"><span class="points"></span></div>
      <div class="tile" data-index="2"><span class="points"></span></div>
      <div class="tile" data-index="3"><span class="points"></span></div>

      <div class="tile" data-index="4"><span class="points"></span></div>
      <div class="tile" data-index="5"><span class="points"></span></div>
      <div class="tile" data-index="6"><span class="points"></span></div>
      <div class="tile" data-index="7"><span class="points"></span></div>

      <div class="tile" data-index="8"><span class="points"></span></div>
      <div class="tile" data-index="9"><span class="points"></span></div>
      <div class="tile" data-index="10"><span class="points"></span></div>
      <div class="tile" data-index="11"><span class="points"></span></div>

      <div class="tile" data-index="12"><span class="points"></span></div>
      <div class="tile" data-index="13"><span class="points"></span></div>
      <div class="tile" data-index="14"><span class="points"></span></div>
      <div class="tile" data-index="15"><span class="points"></span></div>
    </div>

    <div id="pointLabel">Point bar (10 → 0 in 1 second)</div>
    <div id="pointBarWrapper">
      <div id="pointBarInner"></div>
    </div>

    <div id="instruction">Click on a black tile</div>
  </div>

  <div id="endOverlay" class="hidden">
    <div id="endTitle">Time is up</div>
    <div id="endSubtitle">
      Your score: <span id="finalScore">0</span>
    </div>
    <button id="playAgainBtn" class="play-again-btn">Play Again</button>
    <div id="playAgain" class="blinking">
      Or press F5 to reload
    </div>
  </div>

</body>
</html>
